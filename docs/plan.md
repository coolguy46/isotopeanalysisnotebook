supabase sql code

create table public.isotope_analyses (
    id bigint generated by default as identity primary key,
    analysis_id uuid not null unique,  -- UUID from Flask
    timestamp timestamptz not null,
    sample_name text not null,
    
    detected_isotopes jsonb not null,         -- Dict[str, Any]
    total_peaks_found integer not null,
    background_peaks integer not null,
    isotope_families_detected text[] not null, -- List of strings
    
    spectrum_data jsonb not null,             -- Raw spectrum data
    plot_image text not null,                 -- base64 encoded PNG string or public image URL
    analysis_parameters jsonb not null,       -- Parameters used for analysis
    
    status text not null default 'completed',
    
    created_at timestamptz default now()
);
